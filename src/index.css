@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme Variables */
:root[data-theme="light"] {
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  --border-primary: #e5e7eb;
  --border-secondary: #d1d5db;
}

:root[data-theme="dark"] {
  --bg-primary: #1f2937;
  --bg-secondary: #111827;
  --bg-tertiary: #0f172a;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --text-tertiary: #9ca3af;
  --border-primary: #374151;
  --border-secondary: #4b5563;
}

:root[data-theme="high-contrast"] {
  --bg-primary: #000000;
  --bg-secondary: #0a0a0a;
  --bg-tertiary: #050505;
  --text-primary: #ffffff;
  --text-secondary: #e5e7eb;
  --text-tertiary: #d1d5db;
  --border-primary: #ffffff;
  --border-secondary: #e5e7eb;
}

@layer base {
  body {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    @apply antialiased;
    font-size: 14px;
    line-height: 1.5;
  }

  /* Airtable-style smooth scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300;
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Typography refinements with theme support */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold;
    color: var(--text-primary);
  }

  h1 {
    @apply text-2xl;
    line-height: 1.25;
  }

  h2 {
    @apply text-xl;
    line-height: 1.3;
  }

  h3 {
    @apply text-lg;
    line-height: 1.4;
  }

  /* Selection color */
  ::selection {
    @apply bg-primary-100 text-primary-900;
  }
}

@layer components {
  /* Airtable-inspired input styles with theme support */
  .input-field {
    @apply w-full px-3 py-2.5 text-sm rounded-lg
           transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-500;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
  }

  .input-field::placeholder {
    color: var(--text-tertiary);
  }

  .input-field:hover {
    border-color: var(--border-secondary);
  }

  .input-field:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Airtable-inspired select dropdown with theme support */
  .select-field {
    @apply input-field appearance-none bg-no-repeat cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23667085' d='M6 8L2 4h8z'/%3E%3C/svg%3E");
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
  }

  /* Airtable-inspired textarea with theme support */
  .textarea-field {
    @apply input-field resize-y min-h-[80px];
  }

  /* Form input and select aliases with theme support */
  .form-input {
    @apply input-field;
  }

  .form-select {
    @apply select-field;
  }

  .form-textarea {
    @apply textarea-field;
  }

  /* Airtable-inspired table styles with theme support */
  .table-modern {
    @apply w-full border-collapse;
  }

  .table-modern thead {
    background-color: var(--bg-tertiary);
    border-top: 1px solid var(--border-primary);
    border-bottom: 1px solid var(--border-primary);
  }

  .table-modern th {
    @apply px-4 py-3 text-left text-xs font-semibold tracking-wide;
    color: var(--text-secondary);
    letter-spacing: 0.025em;
  }

  .table-modern tbody tr {
    border-bottom: 1px solid var(--border-primary);
    transition: background-color 150ms;
    cursor: default;
  }

  .table-modern tbody tr:hover {
    background-color: var(--bg-tertiary);
  }

  .table-modern td {
    @apply px-4 py-3.5 text-sm;
    color: var(--text-primary);
  }

  /* Airtable-style action buttons in tables with theme support */
  .table-action-btn {
    @apply p-1.5 rounded-md transition-all duration-150;
    color: var(--text-tertiary);
  }

  .table-action-btn:hover {
    color: var(--text-secondary);
    background-color: var(--bg-tertiary);
  }

  /* Badge styles with Airtable aesthetic */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-50 text-primary-700 border border-primary-200;
  }

  .badge-success {
    @apply bg-success-50 text-success-700 border border-success-200;
  }

  .badge-warning {
    @apply bg-warning-50 text-warning-700 border border-warning-200;
  }

  .badge-danger {
    @apply bg-danger-50 text-danger-700 border border-danger-200;
  }

  .badge-gray {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
  }

  /* Form label styles with theme support */
  .form-label {
    @apply block text-sm font-medium mb-1.5;
    color: var(--text-primary);
  }

  /* Card hover effects */
  .card-hover {
    @apply transition-all duration-200 hover:shadow-md hover:-translate-y-0.5;
  }

  /* Divider with theme support */
  .divider {
    @apply my-6;
    border-top: 1px solid var(--border-primary);
  }

  /* Section header style with theme support */
  .section-header {
    @apply text-lg font-semibold mb-4;
    color: var(--text-primary);
  }

  /* Empty state with theme support */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply w-12 h-12 mb-3;
    color: var(--text-tertiary);
  }

  .empty-state-text {
    @apply text-sm;
    color: var(--text-secondary);
  }
}